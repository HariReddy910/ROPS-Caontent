
@model ICollection<ResturantPOS.Models.Hotel>
<head>
<link href="~/Content/ResurantInfo.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<div class="container">
    <h4>Restaurant INFO</h4>
    <div class="row">
        <div class="col-md-2">
        </div>
        <div class="col-md-5">
            <form class="form-horizontal">
                <div class="form-group">
                    <label for="inputtext3" class="col-sm-4 control-label">Restaurant Name</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="HotelName" placeholder="Required Restaurant Name">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputtext3" class="col-sm-4 control-label">Address Line1</label>
                    <div class="col-sm-8">
                        <textarea class="form-control"id="AddressLine1" rows="2"></textarea>

                    </div>
                </div>
                <div class="form-group">
                    <label for="inputtext3" class="col-sm-4 control-label">Address Line2</label>
                    <div class="col-sm-8">
                        <textarea class="form-control"id="AddressLine2" rows="2"></textarea>

                    </div>
                </div>
                <div class="form-group">
                    <label for="inputtext3" class="col-sm-4 control-label">Address Line3</label>
                    <div class="col-sm-8">
                        <textarea class="form-control"id="AddressLine3" rows="2"></textarea>

                    </div>
                </div>
                <div class="form-group">
                    <label for="inputtext3" class="col-sm-4 control-label">Contact No</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="ContactNo" placeholder="Required Contact No">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-4 control-label">Email ID</label>
                    <div class="col-sm-8">
                        <input type="email" class="form-control" id="EmailID" placeholder="Required Email ID">
                    </div>
                </div>


        </form>
    </div>
        <div class="col-md-5"style="margin-left: -2%;">
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">TIN</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="TIN" placeholder="Required TIN">
                </div>
            </div><br><br>
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">Service Tax No</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="STNo" placeholder="Required ST No">
                </div>
            </div><br><br>
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">CIN</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="CIN" placeholder="Required CIN">
                </div>
            </div><br><br>
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">Base Currency</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="BaseCurrency" placeholder="Required Base Currency">
                </div>
            </div><br><br>
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">Currency Code</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="CurrencyCode" placeholder="Required Currency Code">
                </div>
            </div><br><br>
            <div class="form-group">
                <label for="inputtext3" class="col-sm-4 control-label">Ticket Footer Message</label>
                <div class="col-sm-8">
                    <textarea class="form-control"id="TicketFooterMessage" rows="2"></textarea><br><br>
                    <button type="button" id="BtnCatCreate"class="btn btn-success" style=" margin-left: 3%;"><i class="fa fa-floppy-o fa-2x" aria-hidden="true"></i> Save.</button>
                </div>
            </div>
           
        </div>
       </div>
    </div>
   <div style="width:100%;float:left;padding-bottom:50px;">
  
    @{
        if (Model != null)
        {
            var grid = new WebGrid(Model, canPage: true, rowsPerPage: 50, selectionFieldName: "selectedRow", ajaxUpdateContainerId: "gridContent");
            grid.Pager(WebGridPagerModes.NextPrevious);

            @grid.GetHtml(tableStyle: "table table-responsive table-bordered",
            headerStyle: "",
            alternatingRowStyle: "webgrid-alternating-row",
            selectedRowStyle: "webgrid-row-style",
            columns:
             grid.Columns(
            grid.Column("NO", style: "col2", format: @<text><span id="Id" class="display-mode">@item.Id</span>@Html.TextBox("Cat-Edit", (int)item.Id, new { @class = "edit-mode form-control" })</text>),
            grid.Column("HotelName", style: "col2", format: @<text><span id="HotelName" class="display-mode">@item.HotelName</span>@Html.TextBox("HotelName-Edit", (string)item.HotelName, new { @class = "edit-mode form-control" })</text>),
            grid.Column("AddressLine1", style: "col2", format: @<text><span id="AddressLine1" class="display-mode">@item.AddressLine1</span> @Html.TextBox("AddressLine1-Edit", (string)item.AddressLine1, new { @class = "edit-mode form-control" })</text>),
            grid.Column("AddressLine2", style: "col2", format: @<text><span id="AddressLine2" class="display-mode">@item.AddressLine2</span>@Html.TextBox("AddressLine2-Edit", (string)item.AddressLine2, new { @class = "edit-mode form-control" })</text>),
            grid.Column("AddressLine3", style: "col2", format: @<text><span id="AddressLine3" class="display-mode">@item.AddressLine3</span>@Html.TextBox("AddressLine3-Edit", (string)item.AddressLine3, new { @class = "edit-mode form-control" })</text>),
            grid.Column("ContactNo", style: "col2", format: @<text><span id="ContactNo" class="display-mode">@item.ContactNo</span>@Html.TextBox("ContactNo-Edit", (string)item.ContactNo, new { @class = "edit-mode form-control" })</text>),
            grid.Column("EmailID", style: "col2", format: @<text><span id="EmailID" class="display-mode">@item.EmailID</span> @Html.TextBox("EmailID-Edit", (string)item.EmailID, new { @class = "edit-mode form-control" })</text>),
            grid.Column("TIN", style: "col2", format: @<text><span id="TIN" class="display-mode">@item.TIN</span>@Html.TextBox("TIN-Edit", (string)item.TIN, new { @class = "edit-mode form-control" })</text>),
            grid.Column("STNo", style: "col2", format: @<text><span id="STNo" class="display-mode">@item.STNo</span>@Html.TextBox("STNo-Edit", (string)item.STNo, new { @class = "edit-mode form-control" })</text>),
            grid.Column("CIN", style: "col2", format: @<text><span id="CIN" class="display-mode">@item.CIN</span>@Html.TextBox("CIN-Edit", (string)item.CIN, new { @class = "edit-mode form-control" })</text>),
            grid.Column("BaseCurrency", style: "col2", format: @<text><span id="BaseCurrency" class="display-mode">@item.BaseCurrency</span> @Html.TextBox("BaseCurrency-Edit", (string)item.BaseCurrency, new { @class = "edit-mode form-control" })</text>),
            grid.Column("CurrencyCode", style: "col2", format: @<text><span id="CurrencyCode" class="display-mode">@item.CurrencyCode</span>@Html.TextBox("CurrencyCode-Edit", (string)item.CurrencyCode, new { @class = "edit-mode form-control" })</text>),
            grid.Column("TicketFooterMessage", style: "col2", format: @<text><span id="TicketFooterMessage" class="display-mode">@item.TicketFooterMessage</span>@Html.TextBox("TicketFooterMessage-Edit", (string)item.TicketFooterMessage, new { @class = "edit-mode form-control" })</text>),
           

           grid.Column("", style: "col1", format: @<text>
                    <div style="padding-left:20px;">
                        <button class="btn btn-default edit-item display-mode" id="@item.Id">Edit</button>
                        <button class="btn btn-default display-mode delete-item" id="@item.Id">Delete</button>
                        <button class="btn btn-default save-item edit-mode" id="@item.Id">Save</button>
                        <button class="btn btn-default cancel-item edit-mode" id="@item.Id">Cancel</button>
                    </div>
        </text>)))
        }
    }
</div>

<script type="text/javascript">
    initialize();

    function initialize() {

        $('.edit-mode').hide();

        $('.edit-item').on('click', function () {
            $('.edit-mode').hide();
            $('.delete-mode').hide();
            $('.display-mode').show();
            var tr = $(this).parents('tr:first');
            tr.find('.edit-mode, .display-mode').toggle();
        });
        $('.cancel-item').on('click', function () {
            var tr = $(this).parents('tr:first');
            tr.find('.display-mode,.edit-mode').toggle();
        });
        $('.delete-item').on('click', function () {
            if (confirm("Are you sure to delete this contact?")) {
                var tr = $(this).parents('tr:first');
                var ID = tr.find('#Cat-Edit').val();
                var CAT = new Object();
                CAT.Id = ID;
                $.ajax({

                    type: "POST",
                    url: '/Hotel/DeleteContact/',
                    data: JSON.stringify(CAT),
                    contentType: "application/json;charset=utf-8",
                    success: function (data, status, xhr) {

                        window.location.reload();
                    },
                    error: function (xhr) {

                        window.location.reload();
                    }
                });
            }

        });

        $('.save-item').on('click', function () {
            var tr = $(this).parents('tr:first');
            var ID = tr.find('#Cat-Edit').val();
            var HotelName = tr.find('#HotelName-Edit').val();
            var AddressLine1 = tr.find('#AddressLine1-Edit').val();
            var AddressLine2 = tr.find('#AddressLine2-Edit').val();
            var AddressLine3 = tr.find('#AddressLine3-Edit').val();
            var ContactNo = tr.find('#ContactNo-Edit').val();
            var EmailID = tr.find('#EmailID-Edit').val();
            var TIN = tr.find('#TIN-Edit').val();
            var STNo = tr.find('#STNo-Edit').val();
            var CIN = tr.find('#CIN-Edit').val()
            var BaseCurrency = tr.find('#BaseCurrency-Edit').val();
            var CurrencyCode = tr.find('#CurrencyCode-Edit').val();
            var TicketFooterMessage = tr.find('#TicketFooterMessage-Edit').val();


            var CAT_save = new Object();
            CAT_save.Id = ID;
            CAT_save.HotelName = HotelName;
            CAT_save.AddressLine1 = AddressLine1;
            CAT_save.AddressLine2 = AddressLine2;
            CAT_save.AddressLine3 = AddressLine3;
            CAT_save.ContactNo = ContactNo;
            CAT_save.EmailID = EmailID;
            CAT_save.TIN = TIN;
            CAT_save.STNo = STNo;
            CAT_save.CIN = CIN;
            CAT_save.BaseCurrency = BaseCurrency;
            CAT_save.CurrencyCode = CurrencyCode;
            CAT_save.TicketFooterMessage = TicketFooterMessage;


            $.ajax({

                type: "POST",
                url: '/Hotel/HotelUpdate/',
                data: JSON.stringify(CAT_save),
                contentType: "application/json;charset=utf-8",
                success: function (data, status, xhr) {

                    window.location.reload();
                },
                error: function (xhr) {

                    window.location.reload();
                }
            });

            window.location.reload();
            tr.find('.edit-mode, .display-mode').toggle();
        });

        $('#BtnCatCreate').on('click', function () {

            var tr = $(this).parents('tr:first');
            var ID = tr.find('#Cat').val();
            var HotelName = $("#HotelName").val();
            var AddressLine1 = $("#AddressLine1").val();
            var AddressLine2 = $("#AddressLine2").val();
            var AddressLine3 = $("#AddressLine3").val();
            var ContactNo = $("#ContactNo").val();
            var EmailID = $("#EmailID").val();
            var TIN = $("#TIN").val();
            var STNo = $("#STNo").val();
            var CIN = $("#CIN").val();
            var BaseCurrency = $("#BaseCurrency").val();
            var CurrencyCode = $("#CurrencyCode").val();
            var TicketFooterMessage = $("#TicketFooterMessage").val();


            var CAT_save = new Object();
            CAT_save.Id = ID;
            CAT_save.HotelName = HotelName;
            CAT_save.AddressLine1 = AddressLine1;
            CAT_save.AddressLine2 = AddressLine2;
            CAT_save.AddressLine3 = AddressLine3;
            CAT_save.ContactNo = ContactNo;
            CAT_save.EmailID = EmailID;
            CAT_save.TIN = TIN;
            CAT_save.STNo = STNo;
            CAT_save.CIN = CIN;
            CAT_save.BaseCurrency = BaseCurrency;
            CAT_save.CurrencyCode = CurrencyCode;
            CAT_save.TicketFooterMessage = TicketFooterMessage;


            $.ajax({

                type: "POST",
                url: '/Hotel/SaveHotel/',
                data: JSON.stringify(CAT_save),
                contentType: "application/json;charset=utf-8",
                success: function (data, status, xhr) {

                    window.location.reload();
                },
                error: function (xhr) {

                }
            });
            window.location.reload();
        });
    }
</script>






